name = "galactic-conflict"
compatibility_date = "2024-05-15"
pages_build_output_dir = "dist"

# Add nodejs compatibility for SvelteKit
compatibility_flags = ["nodejs_compat"]

# Environment variables for build-time (VITE_ prefixed)
# These are available during the build process
[vars]
VITE_ADSENSE_AD_UNIT_ID = "your-ad-unit-id"

# Local development KV namespace
[[kv_namespaces]]
binding = "GALACTIC_CONFLICT_KV"
id = "local-dev-storage"
preview_id = "local-dev-storage"

[env.preview]
vars = { VITE_ADSENSE_AD_UNIT_ID = "your-ad-unit-id" }
kv_namespaces = [
    { binding = "GALACTIC_CONFLICT_KV", id = "2e0584ff1854476ba6bdecd5bd0a9daf" }
]

[env.production]
vars = { VITE_ADSENSE_AD_UNIT_ID = "your-ad-unit-id" }
kv_namespaces = [
    { binding = "GALACTIC_CONFLICT_KV", id = "45d22a743168411f8abe7d8819ea0881" }
]

# Note: WebSocket worker runs separately - no Durable Object binding needed
# The game connects to the worker via WebSocket URLs configured in src/lib/websocket-config.ts
