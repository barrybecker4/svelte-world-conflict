name = "svelte-world-conflict"
compatibility_date = "2024-05-15"
pages_build_output_dir = "dist"

# Add nodejs compatibility for SvelteKit
compatibility_flags = ["nodejs_compat"]

# Environment variables for build-time (VITE_ prefixed)
# These are available during the build process
[vars]
VITE_ADSENSE_AD_UNIT_ID = "your-ad-unit-id"

# Local development KV namespace
[[kv_namespaces]]
binding = "WORLD_CONFLICT_KV"
id = "local-dev-storage"
preview_id = "local-dev-storage"

[env.preview]
kv_namespaces = [
    { binding = "WORLD_CONFLICT_KV", id = "a776ced349e4415ab2b2f7c519fb9642" }
]

# Note: WebSocket worker runs separately - no Durable Object binding needed
# The game connects to the worker via WebSocket URLs configured in src/lib/websocket-config.ts

[env.production]
kv_namespaces = [
    { binding = "WORLD_CONFLICT_KV", id = "374d788f7a834bc3ad81f660362bd647" }
]

# Note: WebSocket worker runs separately - no Durable Object binding needed
# The game connects to the worker via WebSocket URLs configured in src/lib/websocket-config.ts

